<?xml version="1.0" encoding="UTF-8"?>
<ecore:EPackage xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" name="TP2" nsURI="TP2" nsPrefix="TP2">
  <eClassifiers xsi:type="ecore:EClass" name="Dossier" eSuperTypes="#//RessourcesLocale">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="nombreEnfant" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="nom" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Fichier" eSuperTypes="#//RessourcesLocale">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="tailleFichierOctet" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//ELong"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="nom" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="RessourcesDistante" abstract="true"
      interface="true" eSuperTypes="#//Ressource"/>
  <eClassifiers xsi:type="ecore:EClass" name="Page" eSuperTypes="#//RessourcesDistante">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="titrePage" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="taillePage" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EInt"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="nom" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="RessourcesLocale" abstract="true" interface="true"
      eSuperTypes="#//Ressource">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="permission" eType="#//PermissionType"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EEnum" name="PermissionType">
    <eLiterals name="Read"/>
    <eLiterals name="Write" value="1"/>
    <eLiterals name="ReadAndWrite" value="2"/>
    <eLiterals name="None" value="3"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Ressource" abstract="true" interface="true">
    <eOperations name="accept">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="commandVisitor.visit(this);"/>
      </eAnnotations>
      <eParameters name="commandVisitor" eType="#//AbstractCommand"/>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="AbstractCommand" abstract="true" interface="true">
    <eOperations name="execute">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="if(ressource != null)&#xD;&#xA;&#x9;ressource.accept(this);"/>
      </eAnnotations>
    </eOperations>
    <eOperations name="clear">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="result = &quot;&quot;;"/>
      </eAnnotations>
    </eOperations>
    <eOperations name="canExecute" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
    <eOperations name="isRessourceSupported" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
    <eOperations name="visit">
      <eParameters name="fichier" eType="#//Fichier"/>
    </eOperations>
    <eOperations name="visit">
      <eParameters name="dossier" eType="#//Dossier"/>
    </eOperations>
    <eOperations name="visit">
      <eParameters name="page" eType="#//Page"/>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="commandName" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="result" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="ressource" eType="#//Ressource"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Master">
    <eOperations name="clear">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="for(AbstractCommand c: commands){&#xD;&#xA;&#x9;c.clear();&#xD;&#xA;}"/>
      </eAnnotations>
    </eOperations>
    <eOperations name="executeAll">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="for(AbstractCommand c: commands){&#xD;&#xA;&#x9;&#x9;&#x9;c.execute();&#xD;&#xA;&#x9;&#x9;}"/>
      </eAnnotations>
    </eOperations>
    <eOperations name="executeCommand" ordered="false">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="command.execute();"/>
      </eAnnotations>
      <eParameters name="command" eType="#//AbstractCommand"/>
    </eOperations>
    <eOperations name="addCommand">
      <eParameters name="command" eType="#//AbstractCommand"/>
    </eOperations>
    <eOperations name="updateRessource">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="body" value="for(AbstractCommand c: commands){&#xD;&#xA;&#x9;c.setRessource(ressource);&#xD;&#xA;&#x9;if(isAutoRun()){&#xD;&#xA;&#x9;&#x9;c.execute();&#xD;&#xA;&#x9;}&#xD;&#xA;}"/>
      </eAnnotations>
      <eParameters name="ressource" eType="#//Ressource"/>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="commands" upperBound="-1"
        eType="#//AbstractCommand" containment="true"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="AutoRun" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="FileNameCommand" eSuperTypes="#//AbstractCommand"/>
  <eClassifiers xsi:type="ecore:EClass" name="FolderNameCommand" eSuperTypes="#//AbstractCommand"/>
  <eClassifiers xsi:type="ecore:EClass" name="AbsolutePathCommand" eSuperTypes="#//AbstractCommand"/>
</ecore:EPackage>
